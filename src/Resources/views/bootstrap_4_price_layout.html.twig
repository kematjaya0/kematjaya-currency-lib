{% use "bootstrap_4_layout.html.twig" %}

{% block money_widget -%}
    
    {{- parent() -}}

    <script type="text/javascript" src="{{ asset('bundles/kmjcurrency/js/jquery.priceFormat.min.js') }}"></script>
    <script>
    
    (function() {
        priceFormat{{ name|capitalize }}();
    })();

    function priceFormat{{ name|capitalize }}() 
    {
        if (!window.jQuery) {  
            alert("JQuery required");
            return;
        }
        
        $('#{{ id }}').addClass('priceformat');
        $('#{{ id }}').attr('price-prefix', '{{ prefix }}');
        $('#{{ id }}').attr('price-suffix', '{{ suffix }}');
        $('#{{ id }}').attr('price-cents-separator', '{{ cents_separator }}');
        $('#{{ id }}').attr('price-cents-limit', {{ scale }});
        
        $('#{{ id }}').priceFormat({    
            prefix: $('#{{ id }}').attr('price-prefix'),
            suffix: $('#{{ id }}').attr('price-suffix'),
            centsSeparator: $('#{{ id }}').attr('price-cents-separator'),
            centsLimit: parseInt('' + $('#{{ id }}').attr('price-cents-limit'))
        });
    }
        
    </script>
{%- endblock money_widget %}